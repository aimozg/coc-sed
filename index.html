<!DOCTYPE html>
<html lang="en">
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"
	      integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
	<title>CocsEd</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
	<!-- jQuery first, then Tether, then Bootstrap JS. -->
	<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
	        integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n"
	        crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"
	        integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
	        crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"
	        integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
	        crossorigin="anonymous"></script>
	<script src="tsout.js" type="text/javascript"></script>
	<style type="text/css">
		#source {
			flex-grow: 1;
			font-family: Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
			font-size: 0.8rem;
		}

		.input-group {
			align-items: baseline;
		}

		body {
			min-height: 100vh;
		}

		[data-role=content] {
			font-family: "Times New Roman", serif;
		}
	</style>
</head>
<body>
<div class="container-fluid">
	<h1>CoC Scene Editor</h1>
	<div class="row">
		<div class="col-4 d-flex flex-column">
			<div class="form-inline">
				<label for="sourceformat" class="form-control-label mx-2">Parse as:</label>
				<select class="form-control" name="sourceformat" id="sourceformat">
					<option value="cocparser" selected>CoC markup</option>
					<option value="cocsource">CoC source code (not implemented)</option>
					<option value="markdown">Markdown (not implemented)</option>
				</select>
			</div>
			<textarea id="source" class="form-control mt-2">You began your journey as a [player startingRace], but gave that up as you explored the dangers of this realm. \
You are a [tallness] tall [malefemaleherm] [race], with [bodytype]. \
<b>You are currently wearing your [armor] and using your [weapon] as a weapon.</b>

The minotaur's broad tongue licks and laps at your [butthole] as you writhe and moan, each lick twice as pleasant as the last, and you feel \
[if (hasCock) [eachCock] twitching beneath you, painting the floor with dribbles of your pre.
[if (hasVagina) You also feel]] your [vagorass] clenching and unclenching as your entire hips try to push against the Minotaur's searching tongue, dripping with his spit - along with your own juices.

<h4>Parser Tests!</h4>\

<h5>Bracket escaping!</h5>\
* \\[cock\\] to \[cock\] to [cock]

<h5>Single word nouns</h5>\
* \[name\] - [name]
* \[armor\] - [armor], \[armorname\] - [armorname], \[weapon\] - [weapon], \[weaponname\] - [weaponname]
* \[legs\] - [legs], \[leg\] - [leg], \[feet\] - [feet], \[foot\] - [foot],
* \[hair\] - [hair], \[face\] - [face], \[tongue\] - [tongue],  \[hairorfur\] - [hairorfur]
* \[skin\] - [skin], \[skinFurScales\] - [skinFurScales], \[bodyType\] - [bodyType],
* \[hips\] - [hips], \[butt\] - [butt], \[ass\] - [ass],
* \[chest\] - [chest], \[fullchest\] - [fullchest], \[nipple\] - [nipple], \[nipples\] - [nipples]
* \[cock\] - [cock], \[cocks\] - [cocks], \[eachcock\] - [eachcock], \[onecock\] - [onecock], \[cockhead\] - [cockhead]
* \[asshole\] - [asshole], \[butthole\] - [butthole], \[pussy\] - [pussy], \[vagina\] - [vagina], \[vag\] - [vag], \
\[vagorass\] - [vagorass], \[clit\] - [clit], \[sack\] - [sack], \[balls\] - [balls], \[sheath\] - [sheath]
* \[evade\] - [evade], \[misdirection\] - [misdirection], \[agility\] - [agility]
* \[master\] - [master]
* \[he\] - [he], \[him\] - [him], \[his\] - [his]
* \[pg\] - [pg] (This is a shortcut to two newlines. This should be two lines below the \[pg\])

<h5>Single-word function calls and parameter lookups</h5>\
* \[player.face\] - [player.face]
* \[allChestDesc\] - [allChestDesc]
* \[player.armorName\] - [player.armorName]
* \[player.skinFurScales\] - [player.skinFurScales]
* \[chestDesc\] - [chestDesc]

<h5>Two word nouns</h5>\
* \[cock all\] - [cock all]
* \[cock each\] - [cock each]
* \[cock one\] - [cock one]
* \[cock largest\] - [cock largest]
* \[cock biggest\] - [cock biggest]
* \[cock smallest\] - [cock smallest]
* \[cock longest\] - [cock longest]
* \[cock shortest\] - [cock shortest]
* \[cock 0\] - [cock 0]  (This should always error)
* \[cock 1\] - [cock 1]
* \[cock 2\] - [cock 2]
* \[cockHead biggest\] - [cockHead biggest]
* \[cockHead largest\] - [cockHead largest]
* \[cockHead smallest\] - [cockHead smallest]
* \[cockHead longest\] - [cockHead longest]
* \[cockHead shortest\] - [cockHead shortest]
* \[cockHead 0\] - [cockHead 0]  (This should always error)
* \[cockHead 1\] - [cockHead 1]
* \[cockHead 2\] - [cockHead 2]

<h5>Boolean tests</h5>\
* 1 \[if (4==4) HERP|DERP\]
* 1 [if (4==4) HERP|DERP]
* 2 \[if (4 == 7) HERP|DERP\]
* 2 [if (4 == 7) HERP|DERP]
* 3 \[if (4==(2+2)) HERP|DERP\]
* 3 [if (4==(2+2)) HERP|DERP]
* 4 \[if (4==4) HERP|DERP\]
* 4 [if (4==4) HERP|DERP]
* 5 \[if (4==7) [if (4==7) HERP]\]
* 5 [if (4==7) [if (4==7) HERP]]
* 6 \[if (4==7) [if (4==7) HERP|DERP]\]
* 6 [if (4==7) [if (4==7) HERP|DERP]]
* 7 \[if (4=4) [if (4=4) HERP]\]
* 7 [if (4=4) [if (4=4) HERP]]
* 8 \[if (4==4) [if (4==4) HERP]\]
* 8 [if (4==4) [if (4==4) HERP]]
* 9 \[if (4==biggesttitsize) \]
* 9 [if (4==biggesttitsize) ]
* 10 \[if (4==biggesttitsize) HERP|DERP\]
* 10 [if (4==biggesttitsize) HERP|DERP]
* 11 \[if (analcapacity>3)    HERP|DERP\]
* 11 [if (analcapacity>3)    HERP|DERP]
* 12 \[if (analcapacity>3) HERP|DERP\]
* 12 [if (analcapacity>3) HERP|DERP]
* 13 \[if (analcapacity = 0)  HERP|DERP\]
* 13 [if (analcapacity = 0)  HERP|DERP]
* 14 \[if (analcapacity = 0) HERP|DERP\]
* 14 [if (analcapacity = 0) HERP|DERP]
* 15 \[if (analcapacity > 0)  HERP|DERP\]
* 15 [if (analcapacity > 0)  HERP|DERP]
* 16 \[if (analcapacity > 0) HERP|DERP\]
* 16 [if (analcapacity > 0) HERP|DERP]
* 17 \[if (hasCock == True) HERP|DERP\]
* 17 [if (hasCock == True) HERP|DERP]
* 18 \[if (hasVagina == True) HERP|DERP\]
* 18 [if (hasVagina == True) HERP|DERP]

<h5> Member Accessors</h5>\
* 19 \[if (player.biggestLactation > 0) HERP|DERP\]
* 19 [if (player.biggestLactation > 0) HERP|DERP]
* 20 \[if (player.biggestLactation > 0)  \[if (hasVagina == True) LOL|WAT\]|DERP\]
* 20 [if (player.biggestLactation > 0)  [if (hasVagina == True) LOL|WAT]|DERP]
* 21 \[if (player.str > 0)  HERP|DERP\]
* 21 [if (player.str > 0)  HERP|DERP]
* 22 \[if (player.inte > 0)  HERP|DERP\]
* 22 [if (player.inte > 0)  HERP|DERP]
* 23 \[if (player.biggestTitSize > 0)  HERP|DERP\]
* 23 [if (player.biggestTitSize > 0)  HERP|DERP]
* 24 \[if (player.biggestLactation > 0)  HERP|DERP\]
* 24 [if (player.biggestLactation > 0)  HERP|DERP]
* 25 \[if (player.isBiped == true) IS A BIPEDDDDD | not a biped. Wat?\]
* 25 [if (player.isBiped == true) IS A BIPEDDDDD | not a biped. Wat?]
* 26 \[if (player.isBiped) IS A BIPEDDDDD | not a biped. Wat?\]
* 26 [if (player.isBiped) IS A BIPEDDDDD | not a biped. Wat?]
* 27 \[if (player.isBipd) IS A BIPEDDDDD | not a biped. Wat?\]
* 27 [if (player.isBipd) IS A BIPEDDDDD | not a biped. Wat?]

<h5>Arbitrary function calls</h5>\
* \[eCockDescript 0\] - [eCockDescript 0]
* \[eCockDescript\] - [eCockDescript]

* \[cockDescript 0\] - [cockDescript 0]
* \[cockDescript\] - [cockDescript]
* Generic function calls will be cast to string
* \[player.cumQ\] - [player.cumQ]
* `\[kFLAGS_REF.ARIAN_COCK_SIZE\]` - [kFLAGS_REF.ARIAN_COCK_SIZE]
* `\[flags kFLAGS_REF.ARIAN_COCK_SIZE\]` - [flags kFLAGS_REF.ARIAN_COCK_SIZE]

<h5>Gender tests</h5>\
* \[he\]  - [he], \[his\]  - [his], \[him\]  - [him],\
\[He\]  - [He], \[His\]  - [His], \[Him\]  - [Him]

<h5>Typical Noun usages</h5>\
* [cock] stiffening [cock biggest] and [vagina] starting to burn with need
* [cock all] stiffening [cock each] and [cock 1] starting to burn with need
* [cockhead biggest] stiffening [cockhead smallest] and [cockhead longest] and [cockhead 1] starting to burn with need

<h5>Complex IF Statement thing</h5>\
\[if (hasCock = true) \[cock\] stiffening IFSTUFF \[if (hasVagina = true) \[vagina\] starting to burn with need\] IFSTUFFDONE\]\[if (isHerm = true) and \]\[if (hasVagina = true) \[vagina\] starting to burn with need\]
[if (hasCock = true) [cock] stiffening IFSTUFF [if (hasVagina = true) [vagina] starting to burn with need] IFSTUFFDONE][if (isHerm = true) and ][if (hasVagina = true) [vagina] starting to burn with need]

<h5>FancyQuotes!</h5>\
Apostrophes: It's a herm!
Double quotes: "derp a herp"</textarea>
		</div>
		<div class="col-4" id="preview-1">
			<div class="card">
				<div class="card-header form-inline">
					<ul class="nav nav-tabs card-header-tabs">
						<li class="nav-item">
							<a class="nav-link active" data-toggle="tab" href="#" role="tab" data-target="input-core">Core</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" data-toggle="tab" href="#" role="tab"
							   data-target="input-combat">Combat</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" data-toggle="tab" href="#" role="tab" data-target="input-sfw">SFW
								parts</a>
						</li>
					</ul>
				</div>
				<div class="card-header" data-role="input-core">
					<div class="row">
						<div class="input-group col-12 my-1">
							<label class="form-control-label mx-2">Name:</label>
							<input type="text" name="player.short" class="form-control form-control-sm"
							       data-role="attr">
						</div>
						<div class="input-group col-3 my-1">
							<label class="form-control-label mx-2">LIB:</label>
							<input type="number" name="player.lib" class="form-control form-control-sm"
							       data-role="attr">
						</div>
						<div class="input-group col-3 my-1">
							<label class="form-control-label mx-2">SENS:</label>
							<input type="number" name="player.sens" class="form-control form-control-sm"
							       data-role="attr">
						</div>
						<div class="input-group col-3 my-1">
							<label class="form-control-label mx-2">COR:</label>
							<input type="number" name="player.cor" class="form-control form-control-sm"
							       data-role="attr">
						</div>
					</div>
				</div>
				<div class="card-header" data-role="input-combat">
					<div class="row">
						<div class="input-group col-3 my-1">
							<label class="form-control-label mx-2">STR:</label>
							<input type="number" name="player.str" class="form-control form-control-sm"
							       data-role="attr">
						</div>
						<div class="input-group col-3 my-1">
							<label class="form-control-label mx-2">TOU:</label>
							<input type="number" name="player.tou" class="form-control form-control-sm"
							       data-role="attr">
						</div>
						<div class="input-group col-3 my-1">
							<label class="form-control-label mx-2">SPE:</label>
							<input type="number" name="player.spe" class="form-control form-control-sm"
							       data-role="attr">
						</div>
						<div class="input-group col-3 my-1">
							<label class="form-control-label mx-2">INT:</label>
							<input type="number" name="player.inte" class="form-control form-control-sm"
							       data-role="attr">
						</div>
					</div>
				</div>
				<div class="card-header" data-role="input-sfw">
					<div class="row">
						<div class="input-group col-12 my-1">
							<label class="form-control-label mx-1">Hair:</label>
							<input type="text" data-role="attr" name="player.hairColor"
							       class="form-control form-control-sm mx-1">
							<input type="number" data-role="attr" name="player.hairLength"
							       class="form-control form-control-sm mx-1">
							<select data-role="attr" name="player.hairType" class="form-control form-control-sm mx-1">
								<option value="0">HAIR_NORMAL</option>
								<option value="1">HAIR_FEATHER</option>
								<option value="2">HAIR_GHOST</option>
								<option value="3">HAIR_GOO</option>
								<option value="4">HAIR_ANEMONE</option>
								<option value="5">HAIR_QUILL</option>
								<option value="6">HAIR_BASILISK_SPINES</option>
								<option value="7">HAIR_BASILISK_PLUME</option>
							</select>
						</div>
					</div>
				</div>
				<div class="card-block" data-role="content"></div>
				<div class="card-footer form-inline">
					<label class="form-control-label mx-2">Random:</label>
					<input type="text" class="form-control form-control-sm" name="seed" style="max-width:8rem;">
					<samp class="small ml-auto" data-role="status"></samp>
				</div>
			</div>
		</div>
		<div class="col-4" id="preview-2">
		</div>
	</div>
</div>

</body>
</html>
